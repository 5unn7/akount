# =============================================================================
# Akount API — Environment Variables
# =============================================================================
# Rename this file to .env and fill in the values.
# NEVER commit .env files — they contain secrets.
# =============================================================================

# --- Required ---

# Node environment (development | production | test)
NODE_ENV=development

# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/akount?schema=public

# Clerk authentication — get from https://dashboard.clerk.com
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# --- Optional (have sensible defaults) ---

# Server binding
PORT=4000
HOST=0.0.0.0

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# Logging level (trace | debug | info | warn | error | fatal)
LOG_LEVEL=info

# Report cache TTL in milliseconds (default: 300000 = 5 minutes)
REPORT_CACHE_TTL_MS=300000

# --- Optional Integrations ---

# Resend — email delivery (https://resend.com)
# Leave unset to disable email sending in development
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Perplexity AI — AI-powered insights (https://docs.perplexity.ai)
# Leave unset to disable AI features
# PERPLEXITY_API_KEY=pplx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ClamAV — virus scanning for file uploads
# Leave unset to skip virus scanning (magic bytes + content patterns still active)
# CLAMAV_HOST=localhost
# CLAMAV_PORT=3310

# =============================================================================
# Production Checklist:
# 1. All "Required" vars MUST be set
# 2. DATABASE_URL should use connection pooling (PgBouncer)
# 3. CORS_ORIGINS must whitelist only your production domain(s)
# 4. CLERK_SECRET_KEY must be a production key (sk_live_*)
# 5. Store secrets in your platform's vault (Vercel, Railway, AWS SSM, etc.)
#    — NEVER use .env files in production
# 6. Set LOG_LEVEL=warn in production (reduce noise)
# 7. Enable CLAMAV_HOST if running ClamAV daemon
# =============================================================================
